<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width">

    <link rel="alternate" type="application/rss+xml" title="Jeremy Tuloup's Blog" href="https://www.jtp.io/feed.xml">

    <title>Jeremy Tuloup's Blog - Ant Colony Optimization Visualization for the Traveling Salesman Problem</title>

    <link rel="canonical" href="https://www.jtp.io/2015/11/22/ant-colony-tsp-visualization.html" />
    <link rel="shortcut icon" type="image/png" href="/favicon.png"/>

    <!-- Bootstrap core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.5/yeti/bootstrap.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min.css">
    <style>
      .MathJax_Preview { color: #888 }
      .math_finished .MathJax_Preview { display: none }
    </style>

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>
    <div id="top" class="container">

<div class="row top">
  <div class="col-md-12 col-xs-18 col-sm-12">
    <a href="/" class="btn btn-default" title="Home">JTP</a>
    
      
        
      
        
      
        
      
        
          
            <a href="/" class="btn btn-primary">Blog</a>
          
        
      
    
      
        
      
        
      
        
          
            <a href="/gameJams" class="btn btn-primary">Game Jams</a>
          
        
      
        
      
    
      
        
          
            <a href="/about" class="btn btn-primary">About</a>
          
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
    <a href="//github.com/jtpio" class="btn btn-primary" title="Github"><i class="fa fa-github-square fa-1x"></i></a>
    <a href="//twitter.com/jtpio" class="btn btn-primary" title="Twitter"><i class="fa fa-twitter-square fa-1x"></i></a>
    <a href="//www.linkedin.com/in/jtuloup" class="btn btn-primary" title="LinkedIn"><i class="fa fa-linkedin-square fa-1x"></i></a>
  </div>
</div>


<div class="row">
  <div class="col-md-12 col-xs-18 col-sm-12">
	  <h2> <strong> Ant Colony Optimization Visualization for the Traveling Salesman Problem </strong> &ndash; November 22, 2015 </h2>
<h4>

	<span class="label label-default">algorithms</span>

	<span class="label label-default">javascript</span>

	<span class="label label-default">programming</span>

</h4>

<h2 id="problem-statement">Problem statement</h2>

<p>The Traveling Salesman Problem is fascinating.</p>

<p>The problem statement (from <a href="//en.wikipedia.org/wiki/Travelling_salesman_problem">Wikipedia</a>) is as follows:</p>

<blockquote>
  <p>Given a list of cities and the distances between each pair of cities, what is the shortest possible route that visits each city exactly once and returns to the origin city?</p>
</blockquote>

<p>It might sound like a straightforward problem, but it appears to be hard to solve (find an exact solution) in a reasonable amount of time when the number of cities is large.</p>

<h2 id="motivation">Motivation</h2>

<p>A lot of work and research have already been done about this topic. Many algorithms exist to find an exact or an approximate solution to the problem.</p>

<p>Here are two good resources (among others) to get started:</p>

<ol>
  <li>The <a href="//en.wikipedia.org/wiki/Travelling_salesman_problem">Wikipedia page</a> provides a clear overview.</li>
  <li>For a more in-depth analysis with real Python code: Peter Norvig made an <a href="//nbviewer.ipython.org/url/norvig.com/ipython/TSPv3.ipynb">excellent iPython notebook</a>. This notebook contains the implementations of different techniques. A very interesting read.</li>
</ol>

<p>Given these two resources, what I would like to present in this post is not another technical and exhaustive analysis, since it has already been done many times by experts in that field.</p>

<p>What I would like to show instead is more of a <strong>game oriented</strong> approach.</p>

<p>Sometimes, in games, it is necessary to determine the shortest tour between n cities. And most of the time in games, an approximate (but still good enough) solution works fine.</p>

<p>There is one approach that can be integrated without too many complications. It is called the <strong>Ant Colony Optimization</strong>, a genetic algorithm that gives an approximate solution to the problem. Starting with a generally bad tour (random), the solution keeps improving after a few iterations. By distributing this technique over several frames, it is possible to get a good result without blocking the game loop.</p>

<h2 id="ant-colony-system">Ant Colony System</h2>

<p>Here is what an Ant Colony System does (from the Wikipedia article):</p>

<blockquote>
  <p>ACS sends out a large number of virtual ant agents to explore many possible routes on the map. Each ant probabilistically chooses the next city to visit based on a heuristic combining the distance to the city and the amount of virtual pheromone deposited on the edge to the city. The ants explore, depositing pheromone on each edge that they cross, until they have all completed a tour. At this point the ant which completed the shortest tour deposits virtual pheromone along its complete tour route (global trail updating). The amount of pheromone deposited is inversely proportional to the tour length: the shorter the tour, the more it deposits.</p>
</blockquote>

<p>The Ant Colony System is well explained in the book <a href="//www.cleveralgorithms.com/">Clever Algorithms</a> by Jason Brownlee.</p>

<p>The implementation is based on the algorithm described in this book. Instead of paraphrasing the author, letâ€™s just refer to the original web page for all the details and explanations:
<a href="//www.cleveralgorithms.com/nature-inspired/swarm/ant_colony_system.html">cleveralgorithms.com/nature-inspired/swarm/ant_colony_system.html</a></p>

<h2 id="visualization">Visualization</h2>

<p>I implemented the algorithm described in the <em>Clever Algorithms</em> book and made a visualization for it, to get a visual feedback and see how the solution evolves after a few iterations. Some parameters are tweakable.</p>

<p class="bigger">
  <a href="//jtpio.github.io/aco-tsp">jtpio.github.io/aco-tsp</a>
</p>

<p><a href="//jtpio.github.io/aco-tsp"><img class="center" src="/res/aco-tsp/screenshot.png" alt="Jammer use case" /></a></p>

<h2 id="applications">Applications</h2>

<p>The main idea behind this experiment was to implement a technique for solving the Traveling Salesman Problem when the exact solution is not essential, and an approximate approach is instead enough.</p>

<p>Playing with the visualization, I noticed that the number of iterations needed to find a <em>good enough</em> solution was relatively low.</p>

<p>In the context of games, this iterative technique seems to be totally suitable because it can dynamically adapt to changes, yield a solution quickly (even though it is not the best), and improve on it over time.</p>

<p>There must already exist tons of work on how to solve the TSP in video games, and it would be interesting to learn more about it. If you know any tip, book or paper about that topic, feel free to share!</p>



<div id="disqus_thread"></div>

<script type="text/javascript">
    var disqus_shortname = 'jtzp4'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  </div>
</div>

<hr>

  <div class="row col-md-12 col-xs-18 col-sm-12">
    <p><small>By <a href="#top">Jeremy Tuloup</a> &ndash; 2015 &ndash; Theme by <a href="http://bootswatch.com/">bootswatch</a> </small></p>
  </div>

  </div> <!-- /container -->

  <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

  <script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min.js"></script>

  <script>
    var scripts = document.getElementsByTagName("script");
    for (var i = 0; i < scripts.length; i++) {
      /* TODO: keep going after an individual parse error. */
      var script = scripts[i];
      if (script.type.match(/^math\/tex/)) {
        var text = script.text === "" ? script.innerHTML : script.text;
        var options = script.type.match(/mode\s*=\s*display/) ?
                      {displayMode: true} : {};
        script.insertAdjacentHTML("beforebegin",
                                  katex.renderToString(text, options));
      }
    }
    document.body.className += " math_finished";
  </script>

  <script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script>

  <script type="text/javascript">
    try {
      var pageTracker = _gat._getTracker("UA-51952511-1");
      pageTracker._trackPageview();
    } catch(err) {}
  </script>

  </body>
</html>
